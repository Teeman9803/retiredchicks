var GridPlus=GridPlus||{};!function(t){"use strict";GridPlus={vars:{grid_on_ajax:!1},init:function(){GridPlus.galleries=[],GridPlus.items=[],GridPlus.pagings=[],GridPlus.initGrid(),GridPlus.initCarousel(),GridPlus.execCategoryFilter(),GridPlus.initCateExpanded(),GridPlus.initFilterByCategory(),GridPlus.initPaging(),GridPlus.initWindowScroll(),GridPlus.initViewGallery(),GridPlus.initAddToCartAjax(),GridPlus.initJustifiedLayout()},initGrid:function(i){void 0===i&&(i=t("body")),t(".grid-stack-container",i).each(function(){var i=t(this).attr("data-section-id"),a=t(this).attr("data-gutter"),e=t("#"+i),r=t(this).attr("data-fix-item-height"),s=t(this).attr("data-layout-type"),d=t(".grid-stack",e),n=t(".grid-stack-container",e),o=n.attr("data-height-ratio"),l=n.attr("data-width-ratio"),g=parseInt(n.attr("data-columns")),c=t(".grid-items .grid-post-item",e),h="grid"==s?0:10,u=[],p=null,m=null,f=null,v=null,y=null,w=0,G=0,P=0,x=0,C=0,k=0,I=e.width(),b=Math.ceil(I/g),j={cellHeight:h,verticalMargin:a,animate:!0,acceptWidgets:!0,removable:!1,disableDrag:!0,disableResize:!0};t(".grid-items .item",e).each(function(i){u.push({x:t(this).attr("data-gs-x"),y:t(this).attr("data-gs-y"),width:t(this).attr("data-gs-width"),height:t(this).attr("data-gs-height"),desktop_x:t(this).attr("data-desktop-gs-x"),desktop_y:t(this).attr("data-desktop-gs-y"),desktop_width:t(this).attr("data-desktop-gs-width"),desktop_height:t(this).attr("data-desktop-gs-height"),image_height:t(this).attr("data-image-height"),image_width:t(this).attr("data-image-width"),item_width_ratio:t(this).attr("data-item-width-ratio"),item_height_ratio:t(this).attr("data-item-height-ratio")})}),d.attr("data-gutter","gutter-"+a),d.gridstack(j),m=d.data("gridstack"),_.each(u,function(i){if(p=m.addWidget(t('<div><div class="grid-stack-item-content" /><div/>'),i.x,i.y,i.width,i.height),t(p).attr("data-desktop-gs-x",i.desktop_x),t(p).attr("data-desktop-gs-y",i.desktop_y),t(p).attr("data-desktop-gs-width",i.desktop_width),t(p).attr("data-desktop-gs-height",i.desktop_height),t(p).attr("data-image-height",i.image_height),t(p).attr("data-image-width",i.image_width),t(p).attr("data-item-width-ratio",i.item_width_ratio),t(p).attr("data-item-height-ratio",i.item_height_ratio),(f=t(".grid-stack-item-content",p)).append(c[w++]),w==c.length&&(w=0),v=t(".thumbnail-image",f),void 0!==(y=v.attr("data-img"))&&null!=y&&""!=y&&(v.css("background-image","url("+y+")"),t("img",v).remove()),"grid"==s){if("true"==r){e=t(".grid-post-item",f).attr("data-post-info-class");G=t(".grid-post-item ."+e,f).outerHeight(!0)}var a=o/l*100;v.css("padding-bottom",a+"%")}else if(b=t(".grid-post-item",this).outerWidth(!0),"1"==t(".grid-post-item",f).attr("data-thumbnail-only"))x=parseInt(t(p).attr("data-image-width")),C=parseInt(t(p).attr("data-image-height")),k=P=0,x>=b&&(k=x/b,P=Math.floor(C/k)),P>0&&"masonry"==s?(v.css("height",P+"px"),t(".grid-post-item",f).css("height",P+"px")):(v.css("height","100%"),t(".grid-post-item",f).css("height","100%"));else{if("true"==r){var e=t(".grid-post-item",f).attr("data-post-info-class");G=t(".grid-post-item ."+e,f).outerHeight(!0)}x=parseInt(t(p).attr("data-image-width")),C=parseInt(t(p).attr("data-image-height")),k=P=0,x>=b&&(k=x/b,P=Math.floor(C/k)),P>0?v.css("height",P+"px"):v.css("height",10*i.height-G+"px"),t(".grid-post-item",f).css("height","auto")}},this),GridPlus.responsive(function(){e.trigger("gridInitCompleted"),setTimeout(function(){GridPlus.itemAnimation(e)},300)})})},initCarousel:function(i){void 0===i&&(i=t("body")),t(".grid-owl-carousel",i).each(function(){var i=t(this),a={items:4,nav:!1,navText:['<i class="fa fa-angle-left"></i> ',' <i class="fa fa-angle-right"></i>'],dots:!1,loop:!0,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,autoplay:!1,autoplayTimeout:0,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0,onResized:GridPlus.initResizeCarousel,onInitialized:GridPlus.initCarouselInitialized},e=i.data("nav-next-text"),r=i.data("nav-prev-text");void 0!==e&&void 0!==r&&(a.navText=[r,e]);var s=t.extend({},a,i.data("owl-options"));i.gridOwlCarousel(s)}),t(".grid-carousel-container",i).each(function(){var i=t(this),a=i.parent().attr("data-animation"),e=i.attr("data-height-ratio"),r=i.attr("data-width-ratio"),s=[];t(".item",i).each(function(){var i,a=t(".thumbnail-image",t(this)),d=a.attr("data-img"),n=parseInt(a.width());t("img",a).length>0&&t("img",a).remove(),void 0!==d&&""!=d&&a.css("background-image","url("+d+")"),i=Math.floor(parseInt(e)/parseInt(r)*n),a.css("height",i+"px"),s.push(t(this))});for(var d=0;d<s.length;d++)!function(i){var e=100*d;setTimeout(function(){t(s[i]).addClass("animated "+a),t(s[i]).css("opacity",1)},e)}(d)})},itemAnimation:function(i){for(var a=t(".grid-stack-item-content",i),e=i.attr("data-animation"),r=0;r<a.length;r++)GridPlus.isAppear(a[r])?function(s){var d=100*r;setTimeout(function(){t(a[s]).addClass("animated "+e),t(a[s]).addClass("infinited"),t(a[s]).css("opacity",1),s+1==a.length&&i.trigger("itemAnimationCompleted")},d)}(r):(t(a[r]).addClass("has-infinite"),t(a[r]).attr("data-animation",e))},initResize:function(i,a){var e=[],r="",s=0,d=0,n=0,o=0,l=t(".grid-stack-container",i).attr("data-gutter"),g=0,c=0,h=t(".grid-stack-container",i).attr("data-height-ratio"),u=t(".grid-stack-container",i).attr("data-width-ratio");t(".grid-stack-item",i).each(function(){r=t(this).attr("data-gs-y"),d=0,"1"==t(".grid-post-item",this).attr("data-thumbnail-only")?(g=t(".grid-post-item",this).outerWidth(!1),c=Math.floor(g*(h/u))):c=t(".grid-post-item",this).outerHeight(!0),t(".grid-stack",i).hasClass("grid-stack-one-column-mode")?(n+=parseInt(s)+parseInt(l),s=c,o+=parseInt(c)+parseInt(l),n+=parseInt(s)+parseInt(l),t('.grid-stack-item[data-gs-y="'+r+'"]',i).css("height",c+"px"),isNaN(n)||t('.grid-stack-item[data-gs-y="'+r+'"]',i).css("top",n)):-1==_.indexOf(e,r)&&(t('.grid-stack-item[data-gs-y="'+r+'"]',i).each(function(){(c=t(".grid-post-item",this).outerHeight(!0))>d&&(d=c)}),e.push(r),e.length>1&&(n+=parseInt(s)+parseInt(l)),s=d,o+=parseInt(d)+parseInt(l),t('.grid-stack-item[data-gs-y="'+r+'"]',i).css("height",d+"px"),isNaN(n)||t('.grid-stack-item[data-gs-y="'+r+'"]',i).css("top",n))}),isNaN(o)||t(".grid-stack",i).css("height",o),a&&a(i)},initResizeMetro:function(i,a,e){var r=[],s=0,d=0,n=0,o=0,l=0,g=0,c=0,h=0,u=0,p=0,m=null,f=parseInt(t(".grid-stack-container",i).attr("data-gutter"));a=void 0!==a&&a,t(".grid-stack-item",i).each(function(){s=parseInt(t(this).attr("data-gs-y")),d=parseInt(t(this).attr("data-gs-x")),n=parseInt(t(this).attr("data-gs-width")),o=parseInt(t(this).attr("data-gs-height")),c=parseInt(t(this).attr("data-item-width-ratio")),h=parseInt(t(this).attr("data-item-height-ratio")),u=parseInt(t(this).position().top),l=parseInt(t(".grid-post-item",this).outerWidth(!0)),g=Math.floor(l*(h/c)),t(this).css("height",g),GridPlus.find(r,d,s)||(void 0!==(m=GridPlus.findPreviousNode(r,d,s,n))&&null!=m?(m.top+m.height+f>u||a)&&(u=m.top+m.height+f):u=0,r.push({x:d,y:s,gs_width:n,gs_height:o,top:u,height:g}),t(this).css("top",u)),u+g+f>p&&(p=u+g+f)}),isNaN(p)||t(".grid-stack",i).css("height",p),e&&e(i)},initResizeMasonry:function(i,a,e){for(var r=0,s=0,d=0,n=0,o=0,l=0,g=0,c=0,h=1,u=parseInt(t(".grid-stack-container",i).attr("data-gutter")),p=parseInt(t(".grid-stack-container",i).attr("data-columns")),m=t(".grid-stack",i).width(),f={},v=0,y=Math.ceil(m/p),w=1;w<=p;w++)f["col_"+w]={height:0};a=void 0!==a&&a,t(".grid-stack-item",i).each(function(){r=parseInt(t(this).attr("data-gs-y")),s=parseInt(t(this).attr("data-gs-x")),d=parseInt(t(this).attr("data-gs-width")),n=parseInt(t(this).attr("data-gs-height")),o=parseInt(t(".grid-post-item",this).outerHeight(!0)),t(this).css("height",o),v=0;for(var i=1;i<=p;i++){if(0==f["col_"+i].height){h=i,v=0,g=0;break}(0==v||v>f["col_"+i].height)&&(v=f["col_"+i].height,h=i)}l=v,g=(h-1)*y,f["col_"+h].height=f["col_"+h].height+o+u,t(this).css("top",l),t(this).css("left",g),l+o+u>c&&(c=l+o+u)}),isNaN(c)||t(".grid-stack",i).css("height",c),e&&e(i)},initResizeCarousel:function(){t(".grid-carousel-container").each(function(){var i=t(this),a=i.attr("data-height-ratio"),e=i.attr("data-width-ratio");t(".item",i).each(function(){var i,r=t(".thumbnail-image",t(this)),s=parseInt(r.width());i=Math.floor(parseInt(a)/parseInt(e)*s),r.css("height",i+"px")})})},initCarouselInitialized:function(i){t(".carousel-items",i.target).css("min-height","auto")},find:function(t,i,a){_.find(t,function(t){return t.x==i&&t.y==a})},findPreviousNode:function(t,i,a,e){for(var r=0,s=null,d=0;d<t.length;d++)t[d].y<a&&(t[d].x>i&&t[d].x>=i+e||t[d].x<i&&t[d].x+t[d].gs_width<=i||t[d].height+t[d].top>r&&(r=t[d].height+t[d].top,s=t[d]));return s},responsive:function(i){t(".grid-plus-container").each(function(){var a=t(this),e=t(".grid-stack-container",a),r=e.attr("data-layout-type"),s=1,d=0,n=[];void 0!==r&&(window.matchMedia("(min-width: 992px)").matches?(e.attr("data-columns",e.attr("data-desktop-columns")),t(".grid-stack-item",a).each(function(){t(this).attr("data-gs-y",t(this).attr("data-desktop-gs-y")),t(this).attr("data-gs-x",t(this).attr("data-desktop-gs-x")),t(this).attr("data-gs-width",t(this).attr("data-desktop-gs-width")),t(this).attr("data-gs-height",t(this).attr("data-desktop-gs-height"))})):window.matchMedia("(min-width: 600px)").matches?(t(".grid-stack",a).removeClass("grid-stack-one-column-mode"),e.attr("data-columns",e.attr("data-tablet-columns")),t(".grid-stack-item",a).each(function(){t(this).attr("data-gs-width","6"),s%2==0&&(t(this).attr("data-gs-x","6"),void 0!==n[s-3]&&t(this).attr("data-gs-y",n[s-3])),s%2==1&&(t(this).attr("data-gs-x","0"),void 0!==n[s-2]&&t(this).attr("data-gs-y",n[s-2])),d=parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height")),n.push(d),s++})):(t(".grid-stack",a).hasClass("grid-stack-one-column-mode")||t(".grid-stack",a).addClass("grid-stack-one-column-mode"),e.attr("data-columns",e.attr("data-mobile-columns"))),setTimeout(function(){"metro"==r?GridPlus.initResizeMetro(a,!0,i):"masonry"==r?GridPlus.initResizeMasonry(a,!0,i):GridPlus.initResize(a,i)},300))})},initCateExpanded:function(){t(document).on("click",function(i){var a=!1;t(i.target).closest(".grid-cate-expanded").length>0&&t(i.target).hasClass("grid-dropdown-toggle")&&t(i.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").hasClass("active")&&(a=!0),t(".grid-dropdown-menu",".grid-cate-expanded").removeClass("active"),a||t(i.target).closest(".grid-cate-expanded").find(".grid-dropdown-menu").addClass("active")})},initFilterByCategory:function(){t("a",".grid-category").off("click").on("click",function(i){if(i.preventDefault(),!GridPlus.vars.grid_on_ajax&&!t(this).hasClass("active")){GridPlus.vars.grid_on_ajax=!0;var a=t(this).closest(".grid-category").attr("data-section-id"),e=t('.grid-plus-inner[data-section-id="'+a+'"]'),r=e.attr("data-layout-type"),s=e.attr("data-ajax-url"),d=e.attr("data-nonce"),n=e.attr("data-source-type"),o=t(this).attr("data-category");"carousel"==r?GridPlus.filterCarousel(this,a,s,o,n,d):"justified"==r?GridPlus.filterJustified(this,a,s,o,n,d,1,1):GridPlus.filter(this,a,s,o,1,1,n,d),t(this).closest(".grid-category").find("a").removeClass("active"),t(this).addClass("active")}})},filter:function(i,a,e,r,s,d,n,o){var l=t("#"+a),g=l.attr("data-grid-name"),c=null,h=t(i),u="",p=null,m=null,f="";d=void 0!==d?d:1,h.closest(".grid-cate-expanded").length>0&&h.closest(".grid-cate-expanded").children("ul").addClass("active"),h.hasClass("ladda-button")&&(c=Ladda.create(i)).start(),u=a+"_"+r+"_"+(s=void 0!==s?s:1),void 0===GridPlus.items[u]?t.ajax({url:e,type:"POST",data:{action:"grid_plus_load_by_category",category_id:r,current_page:s,grid_name:g,source_type:n,ajax:d,nonce:o},success:function(i){null!=c&&c.stop(),p=t(".grid-items",i),GridPlus.items[u]=p.clone(!0),t('div[data-section-id="'+a+'"]').attr("data-current-category",r),3==d||4==d?(m=3==d?t("a.load-more",i):t("a.infinite-scroll",i),f=3==d?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.pagings[u]=m.clone(!0),GridPlus.appendItem(l,p,m,f)):((m=t(".grid-paging-navigation",i)).length<=0&&(t("a.load-more",i).length>0&&(m=t("a.load-more",i)),t("a.infinite-scroll",i).length>0&&(m=t("a.infinite-scroll",i))),GridPlus.pagings[u]=m.clone(!0),GridPlus.bindItem(l,p,m)),GridPlus.initViewGallery(l),GridPlus.initAddToCartAjax(l),GridPlus.vars.grid_on_ajax=!1,h.closest(".grid-cate-expanded").length>0&&h.closest(".grid-cate-expanded").children("ul").removeClass("active")},error:function(){return null!=c&&c.stop(),GridPlus.vars.grid_on_ajax=!1,h.closest(".grid-cate-expanded").length>0&&h.closest(".grid-cate-expanded").children("ul").removeClass("active"),!1}}):(null!=c&&c.stop(),t('div[data-section-id="'+a+'"]').attr("data-current-category",r),p=GridPlus.items[u].clone(!0),3==d||4==d?(m=GridPlus.pagings[u].clone(!0),f=3==d?".grid-load-more-wrap":".grid-infinite-scroll-wrap",GridPlus.appendItem(l,p,m,f)):(m=GridPlus.pagings[u].clone(!0),GridPlus.bindItem(l,p,m)),GridPlus.initViewGallery(l),GridPlus.initAddToCartAjax(l),GridPlus.vars.grid_on_ajax=!1,h.closest(".grid-cate-expanded").length>0&&h.closest(".grid-cate-expanded").children("ul").removeClass("active"))},filterCarousel:function(i,a,e,r,s,d){var n=t("#"+a),o=n.attr("data-grid-name"),l=null,g=t(i),c=a+"_"+r,h=null;g.hasClass("ladda-button")&&(l=Ladda.create(i)).start(),void 0===GridPlus.items[c]?t.ajax({url:e,type:"POST",data:{action:"grid_plus_load_by_category",category_id:r,current_page:1,grid_name:o,source_type:s,nonce:d},success:function(i){null!=l&&l.stop(),h=t(".carousel-items .item",i),GridPlus.items[c]=h.clone(!0),t('div[data-section-id="'+a+'"]').attr("data-current-category",r),GridPlus.bindItemCarousel(n,h,1),GridPlus.initViewGallery(n),GridPlus.initAddToCartAjax(n),GridPlus.vars.grid_on_ajax=!1},error:function(){null!=l&&l.stop(),GridPlus.vars.grid_on_ajax=!1}}):(null!=l&&l.stop(),t('div[data-section-id="'+a+'"]').attr("data-current-category",r),h=GridPlus.items[c].clone(!0),GridPlus.bindItemCarousel(n,h,1),GridPlus.initViewGallery(n),GridPlus.initAddToCartAjax(n),GridPlus.vars.grid_on_ajax=!1)},filterJustified:function(i,a,e,r,s,d,n,o){var l=t("#"+a),g=l.attr("data-grid-name"),c=null,h=null,u=t(i),p=a+"_"+r,m=null;u.hasClass("ladda-button")&&(c=Ladda.create(i)).start(),p=a+"_"+r+"_"+(o=void 0!==o?o:1),void 0===GridPlus.items[p]?t.ajax({url:e,type:"POST",data:{action:"grid_plus_load_by_category",category_id:r,current_page:o,grid_name:g,source_type:s,nonce:d},success:function(i){u.hasClass("ladda-button")&&null!=c&&c.stop(),h=t("a.infinite-scroll",i),m=t(".justified-items .item",i),GridPlus.items[p]=m.clone(!0),GridPlus.pagings[p]=h.clone(!0),"1"==n&&t('div[data-section-id="'+a+'"]').attr("data-current-category",r),GridPlus.bindItemJustified(l,m,n,h),GridPlus.initViewGallery(l),GridPlus.initAddToCartAjax(l),GridPlus.vars.grid_on_ajax=!1},error:function(){u.hasClass("ladda-button")&&null!=c&&c.stop(),GridPlus.vars.grid_on_ajax=!1}}):(u.hasClass("ladda-button")&&null!=c&&c.stop(),t('div[data-section-id="'+a+'"]').attr("data-current-category",r),m=GridPlus.items[p].clone(!0),h=GridPlus.pagings[p].clone(!0),GridPlus.bindItemJustified(l,m,n,h),GridPlus.initViewGallery(l),GridPlus.initAddToCartAjax(l),GridPlus.vars.grid_on_ajax=!1)},bindItem:function(i,a,e){void 0!==t(".grid-stack",i).data("gridstack")&&t(".grid-stack",i).data("gridstack").destroy(!1),t(".grid-stack",i).empty(),t(".grid-items",i).empty(),t(".grid-items",i).append(t(".item",a)),GridPlus.initGrid(i),t(".grid-paging-navigation-wrap .grid-paging-navigation",i).empty(),t(".grid-load-more-wrap",i).empty(),t(".grid-infinite-scroll-wrap",i).empty();var r=i.offset().top;t("#wpadminbar").length>0&&(r-=t("#wpadminbar").outerHeight(!0)),t("html,body").animate({scrollTop:r+"px"},500),e.length>0&&setTimeout(function(){t(".grid-paging-navigation-wrap",i).length>0?(t(".grid-paging-navigation-wrap .grid-paging-navigation",i).append(e.children()),t(".grid-paging-navigation-wrap",i).fadeIn()):t(".grid-load-more-wrap",i).length>0?t(".grid-load-more-wrap",i).append(e):t(".grid-infinite-scroll-wrap",i).length>0&&t(".grid-infinite-scroll-wrap",i).append(e),GridPlus.initPaging(i)},100),t(".grid-plus-inner",i).trigger("grid-plus-affter-ajax")},bindItemJustified:function(i,a,e,r){if(1==e?(t(".justified-items .item",i).remove(),t(".justified-items",i).removeClass("justified-init"),t(".justified-items",i).append(a),GridPlus.initJustifiedLayout(i)):(t(".justified-items",i).append(a),setTimeout(function(){t(".justified-items",i).justifiedGallery("norewind")},500)),1==e||2==e){var s=i.offset().top;t("#wpadminbar").length>0&&(s-=t("#wpadminbar").outerHeight(!0)),t("html,body").animate({scrollTop:s+"px"},800)}t(".grid-infinite-scroll-wrap",i).empty(),r.length>0&&(t(".grid-infinite-scroll-wrap",i).length>0&&t(".grid-infinite-scroll-wrap",i).append(r),GridPlus.initPaging(i)),t(".grid-plus-inner",i).trigger("grid-plus-affter-ajax")},appendItem:function(i,a,e,r){var s=t(".grid-stack-item",i).length,d=t(".grid-items .item",i),n=d.length,o=0,l=0,g=0,c=0,h=0,u=0,p=0;s<n&&(o=n-s),t(".grid-stack-item",i).each(function(){parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height"))>p&&(p=parseInt(t(this).attr("data-gs-y"))+parseInt(t(this).attr("data-gs-height")))});for(var m=t(".item",a),f=o;f<n;f++)f==n&&l<=m.length&&(f=0),g=parseInt(t(d[f]).attr("data-gs-y"))+p,c=parseInt(t(d[f]).attr("data-gs-x")),h=parseInt(t(d[f]).attr("data-gs-width")),u=parseInt(t(d[f]).attr("data-gs-height")),t(m[l]).attr("data-gs-y",g),t(m[l]).attr("data-gs-x",c),t(m[l]).attr("data-gs-width",h),t(m[l]).attr("data-gs-height",u),t(m[l]).attr("data-desktop-gs-y",g),t(m[l]).attr("data-desktop-gs-x",c),t(m[l]).attr("data-desktop-gs-width",h),t(m[l]).attr("data-desktop-gs-height",u),l++;t(".grid-items",i).empty(),t(".grid-items",i).append(m),GridPlus.initGrid(i),t(r,i).empty(),e.length>0&&(t(r,i).append(e),GridPlus.initPaging(i)),t(".grid-plus-inner",i).trigger("grid-plus-affter-ajax")},bindItemCarousel:function(i,a,e){var r=t(".carousel-items",i).height();if(t(".grid-owl-carousel",i).trigger("destroy.owl.carousel"),t(".carousel-items",i).css("min-height",r+"px"),t(".carousel-items",i).empty(),t(".carousel-items",i).append(a),GridPlus.initCarousel(i),setTimeout(function(){t(".carousel-items",i).css("min-height","")},200),1==e||2==e){var s=i.offset().top;t("#wpadminbar").length>0&&(s-=t("#wpadminbar").outerHeight(!0)),t("html,body").animate({scrollTop:s+"px"},800)}t(".grid-plus-inner",i).trigger("grid-plus-affter-ajax")},initPaging:function(i){void 0===i&&(i=t("body")),t(".grid-paging-navigation-wrap a.page-numbers",i).each(function(){var i=t(this);i.removeClass("ladda-button").addClass("ladda-button"),i.attr("data-style","zoom-in"),i.attr("data-spinner-color","#868686"),i.attr("data-spinner-size","20")}),t(".grid-paging-navigation-wrap a.page-numbers, .grid-load-more-wrap a.load-more, .grid-infinite-scroll-wrap a.infinite-scroll",i).off("click").on("click",function(i){if(i.preventDefault(),!GridPlus.vars.grid_on_ajax){GridPlus.vars.grid_on_ajax=!0;var a=t(this).parent().attr("data-section-id"),e=t('div[data-section-id="'+a+'"]'),r=e.attr("data-layout-type"),s=e.attr("data-current-category"),d=e.attr("data-ajax-url"),n=e.attr("data-source-type"),o=e.attr("data-nonce"),l=t(this).attr("href"),g=1,c=2;return t(this).hasClass("page-numbers")?g=GridPlus.getPageNumberFromHref(l):t(this).hasClass("load-more")?(g=t(this).attr("data-next-page"),c=3):t(this).hasClass("infinite-scroll")&&(g=t(this).attr("data-next-page"),c=4),void 0!==r&&"justified"==r?GridPlus.filterJustified(this,a,d,s,n,o,c,g):GridPlus.filter(this,a,d,s,g,c,n,o),!1}})},initInfiniteScroll:function(){var i,a,e=t(window).scrollTop(),r=e+t(window).height();t(".grid-infinite-scroll-wrap a.infinite-scroll:not(.infinited)").each(function(){i=t(this).offset().top,(a=i+t(this).height())<=r&&i>=e&&(t(this).addClass("infinited"),t(this).trigger("click"))})},initAppearScroll:function(){t(window).scrollTop(),t(window).height();var i,a="fadeInUp";i=[],t(".grid-stack-item-content.has-infinite:not(.infinited)").each(function(){GridPlus.isAppear(this)&&(t(this).addClass("infinited"),i.push(t(this)))});for(var e=0;e<i.length;e++)!function(r){var s=100*e;setTimeout(function(){a=t(i[r]).attr("data-animation"),t(i[r]).addClass("animated "+a),t(i[r]).removeClass("has-infinite"),t(i[r]).css("opacity",1)},s)}(e)},initWindowScroll:function(){t(window).scroll(function(){GridPlus.initInfiniteScroll(),GridPlus.initAppearScroll()})},isAppear:function(i,a){var e=t(window).scrollTop(),r=e+t(window).height(),s=t(i).height(),d=t(i).offset().top,n=d+s,o=n-r;return(void 0===a||isNaN(a))&&(a=.8),(o<=0||o<=s*a)&&(d>=e||r>n)},initViewGallery:function(i){var a="";void 0===i?(i=t("body"),a=t(".grid-plus-container.attachment",i)):a=i,i.hasClass("attachment")||t("a.view-gallery",i).off("click").on("click",function(i){i.preventDefault();var a=t(this).closest(".grid-post-item").addClass("active"),e=t(this).attr("data-post-id"),r=t(this),s=r.attr("data-ajax-url"),d=t("i",r).attr("class"),n=null;t("i",r).attr("class","fa fa-spinner fa-spin"),void 0===GridPlus.galleries[e]?t.ajax({url:s,type:"GET",data:{action:"grid_plus_load_gallery",post_id:e},success:function(i){t("i",r).attr("class",d);var s=JSON.parse(i);void 0!==s&&t.isArray(s)&&s.length>0&&(n=t(this).lightGallery({dynamic:!0,dynamicEl:s,hash:!1,download:!0}),GridPlus.light_gallery_after_open(n),GridPlus.galleries[e]=JSON.parse(i)),a.removeClass("active")},error:function(){t("i",r).attr("class",d),a.removeClass("active")}}):(n=t(this).lightGallery({dynamic:!0,dynamicEl:GridPlus.galleries[e],hash:!1,download:!0}),GridPlus.light_gallery_after_open(n),a.removeClass("active"),t("i",r).attr("class",d))}),a.hasClass("attachment")&&a.each(function(){var i="#"+t(this).attr("id"),a="",e=[];t("a.view-gallery",i).off("click").on("click",function(){var r=t(this),s=t("i",r).attr("class"),d=r.attr("data-src"),n=0;if(t("i",r).attr("class","fa fa-spinner fa-spin"),t("a.view-gallery",i).each(function(){void 0!==(a=t(this).attr("data-src"))&&""!=a&&(d==a&&(n=e.length),e.push({subHtml:"",thumb:a,src:a}))}),e.length>0){var o=r.lightGallery({dynamic:!0,dynamicEl:e,hash:!1,download:!0,index:n});GridPlus.light_gallery_after_open(o)}setTimeout(function(){t("i",r).attr("class",s)},200)})})},light_gallery_after_open:function(i){i.on("onAfterOpen.lg",function(i,a){t(".lg-thumb-outer").css("opacity","0"),setTimeout(function(){t(".lg-has-thumb").removeClass("lg-thumb-open"),t(".lg-thumb-outer").css("opacity","1")},700)})},getPageNumberFromHref:function(t){var i="",a=/paged=\d+/gi;return new RegExp(a).test(t)?i=new RegExp(a).exec(t):(a=/page\/\d+/gi,i=new RegExp(a).test(t)?new RegExp(a).exec(t):i),a=/\d+/g,new RegExp(a).test(i)?new RegExp(a).exec(i)[0]:1},initAddToCartAjax:function(i){void 0===i&&(i=t("body")),t("a.add-to-cart:not(.added-to-cart)",i).off("click").on("click",function(i){i.preventDefault();var a=t(this),e=a.closest(".grid-post-item").addClass("active"),r=a.attr("data-cart_url"),s=a.attr("data-cart_redirect_after_add"),d=a.attr("data-icon_added_to_cart"),n={},o=a.prop("href").replace("%%endpoint%%","add_to_cart"),l=null;a.hasClass("ladda-button")&&(l=Ladda.create(this)).start(),t.each(a.data(),function(t,i){n[t]=i}),t.ajax({url:o,type:"POST",data:n,success:function(i){null!=l&&l.stop(),i.error&&i.product_url?window.location=i.product_url:"yes"!==s?(void 0!==d&&""!=d&&(t("i",a).removeClass(),t("i",a).addClass(d)),a.addClass("added-to-cart"),a.off("click"),a.attr("href",r),e.removeClass("active"),t(document.body).trigger("added_to_cart",[i.fragments,i.cart_hash,a])):window.location=r},error:function(){null!=l&&l.stop(),e.removeClass("active")}})})},initJustifiedLayout:function(i){void 0===i&&(i=t("body")),t(".justified-container",i).each(function(){var i=t(this),a=t(this).attr("data-row-height"),e=t(this).attr("data-margin");i.hasClass("justified-init")||t(".justified-items",this).justifiedGallery({rowHeight:a,waitThumbnailsLoad:!1,selector:"div.item",margins:e,lastRow:"nojustify",cssAnimation:!0}).on("jg.complete",function(a){t(".justified-items",i).addClass("justified-init");var e=i.parent().attr("data-animation"),r=[];t(".item",i).each(function(){var i=t(".thumbnail-image",t(this)),a=i.attr("data-img"),e=t(this).height();t("img",i).length>0&&t("img",i).remove(),void 0!==a&&""!=a&&i.css("background-image","url("+a+")"),i.css("height",e+"px"),t(this).css("opacity",0),r.push(t(this))}),i.css("opacity",1);for(var s=0;s<r.length;s++)!function(i){var a=100*s;setTimeout(function(){t(r[i]).addClass("animated "+e),t(r[i]).css("opacity",1)},a)}(s)})})},execCategoryFilter:function(){t(".grid-category").each(function(){if(!t(this).closest(".grid-plus-container").hasClass("grid-cate-multi-line")){var i=t(this).removeClass("hidden"),a=i.closest(".grid-plus-container").width(),e=i.find(".grid-cate-expanded").removeClass("hidden"),r=!1,s=50;e.find("li a").each(function(){var i=t(this).closest("li");t(this).detach().insertBefore(e),i.remove()}),i.children("a").each(function(){var i=t(this);r?(e.find("ul").append("<li>"+i[0].outerHTML+"</li>"),i.remove()):s+i.outerWidth()>a?(r=!0,e.find("ul").append("<li>"+i[0].outerHTML+"</li>"),i.remove()):s+=i.outerWidth()+6}),e.find("li a").length>0?e.removeClass("hidden"):e.addClass("hidden"),GridPlus.initFilterByCategory()}})}},t(document).ready(function(){GridPlus.init()});var i;t(window).resize(function(){clearTimeout(i),i=setTimeout(function(){GridPlus.responsive()},100),setTimeout(function(){GridPlus.execCategoryFilter()},20)})}(jQuery);